(this["webpackJsonpspotify-api-project"]=this["webpackJsonpspotify-api-project"]||[]).push([[0],{23:function(e,t,s){},24:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var c=s(0),i=s.n(c),n=s(8),a=s.n(n),l=(s(23),s(3)),r=(s(24),"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("9b634ab5a09f410cb628e714fb30b5b8","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true")),o=s(1),j=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("a",{href:r,children:"Sign In to Spotify"})})},u=Object(c.createContext)(),b=function(e){var t=e.initialState,s=e.reducer,i=e.children;return Object(o.jsx)(u.Provider,{value:Object(c.useReducer)(s,t),children:i})},d=function(){return Object(c.useContext)(u)},O=function(){var e=d(),t=Object(l.a)(e,2),s=t[0],c=s.activePlaylist;s.activePlaylistImage,t[1];return console.log("this is active playlist",c),Object(o.jsxs)("div",{className:"active-playlist-box",children:[Object(o.jsx)("img",{src:c.images[0].url}),Object(o.jsx)("a",{href:c.external_urls.spotify,children:Object(o.jsx)("h5",{children:c.name})}),Object(o.jsx)("a",{href:c.owner.external_urls.spotify,children:Object(o.jsxs)("p",{children:["Curated by ",c.owner.display_name]})})]})},h=s(4),g=s.n(h),p=new g.a,x=function(){var e,t=d(),s=Object(l.a)(t,2),c=s[0].playlists,i=s[1];return Object(o.jsx)("div",{className:"all-playlist-box",children:null===c||void 0===c||null===(e=c.items)||void 0===e?void 0:e.map((function(e){return Object(o.jsx)("div",{className:"imageBox",children:Object(o.jsxs)("a",{onClick:function(){i({type:"SET_ACTIVEPLAYLIST",activePlaylist:e}),i({type:"SET_PLAYLISTID",playlistID:e.id}),p.getPlaylist(e.id).then((function(e){i({type:"SET_SONGLIST",songlist:e})}))},children:[Object(o.jsx)("img",{className:"albumCover",src:e.images[0].url,alt:"albumcover"}),Object(o.jsx)("div",{className:"overlay",children:Object(o.jsx)("p",{children:e.name})})]})})}))})},y=(new g.a,function(e){var t,s=d(),c=Object(l.a)(s,2),i=c[0],n=i.songlist,a=i.playlistID;i.songNumber,c[1];return Object(o.jsx)("div",{className:"songlist",children:Object(o.jsxs)("ol",{children:[console.log("this is playlistID in songlist",a),console.log("this is songlist in songlist",n),null===n||void 0===n||null===(t=n.tracks)||void 0===t?void 0:t.items.map((function(t,s){return console.log("this is item",t),Object(o.jsxs)("div",{className:"songbox",children:[console.log("this is maps songlist: ",n),Object(o.jsx)("li",{className:"songlistLi",children:Object(o.jsx)("button",{value:s,onClick:function(t){console.log("this is index",s),e.changeFunc(t.target.value)}})}),Object(o.jsxs)("div",{className:"songartist",children:[Object(o.jsx)("span",{children:t.track.name}),Object(o.jsx)("span",{children:t.track.artists.map((function(e){return e.name})).join(", ")})]})]})})),Object(o.jsxs)("div",{className:"songbox",children:[Object(o.jsx)("li",{className:"songlistLi"}),Object(o.jsxs)("div",{className:"songartist",children:[Object(o.jsx)("span",{children:"Song"}),Object(o.jsx)("span",{children:"Artist"})]})]})]})})}),v=s(17),m=(s(7),{trackArtistColor:"white",trackNameColor:"white",activeColor:"black",altColor:"black",bgColor:"black",height:100,sliderTrackBorderRadius:100}),f=function(e){var t=i.a.useState(0),s=Object(l.a)(t,2),n=s[0],a=s[1];console.log("this is props",e),Object(c.useEffect)((function(){a(e.numTrack)}),[e]);var r=d(),j=Object(l.a)(r,2),u=j[0],b=u.token,O=u.activePlaylist;u.songNumber,j[1];return Object(o.jsx)("div",{className:"controller",children:Object(o.jsx)(v.a,{styles:m,token:b,uris:["".concat(O.uri)],offset:n,autoPlay:!0})})},S=function(){var e=i.a.useState(0),t=Object(l.a)(e,2),s=t[0],c=t[1],n=d(),a=Object(l.a)(n,2),r=a[0],j=r.activePlaylist,u=r.songlist;a[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"title",children:"Playlists"}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"leftbox",children:[j?Object(o.jsx)(O,{}):Object(o.jsx)("div",{className:"active-playlist-box"}),Object(o.jsx)(x,{})]}),Object(o.jsxs)("div",{className:"rightbox",children:[u?Object(o.jsx)(y,{changeFunc:function(e){c(e)}}):Object(o.jsx)("div",{className:"songlist"}),Object(o.jsx)(f,{className:"controller",numTrack:s})]})]})]})},T=new g.a;var E=function(){var e=d(),t=Object(l.a)(e,2),s=t[0],i=s.token,n=s.devices,a=s.songlist,r=s.playlistID,u=t[1];return Object(c.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var s=t.split("=");return e[s[0]]=decodeURIComponent(s[1]),e}),{});window.location.hash="";var t=e.access_token;console.log("this is _token",t),t&&(u({type:"SET_TOKEN",token:t}),T.setAccessToken(t),T.getMe().then((function(e){u({type:"SET_USER",user:e})})),T.getUserPlaylists().then((function(e){u({type:"SET_PLAYLISTS",playlists:e})})),T.getMyDevices().then((function(e){u({type:"SET_DEVICES",devices:e[0]})})),T.play().then((function(e){u({type:"SET_PLAYING",playing:e})})))}),[i,u]),console.log("this is playlistID",r),console.log("this is songlist",a),console.log("Token: ",i),console.log(n),Object(o.jsxs)("div",{className:"allBackground",children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("img",{src:".src/logoforspotifyapi.png",width:"50px",height:"50px",alt:"logo"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"/",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"/",children:"About"})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"/",alt:"Sign Out",children:i?Object(o.jsx)("a",{alt:"Sign Out",onClick:function(){u({type:"SET_TOKEN",token:null})},children:"Sign Out"}):Object(o.jsx)(j,{})})})]})]}),i?Object(o.jsx)(S,{spotify:T}):Object(o.jsx)("div",{children:Object(o.jsx)("h1",{style:{color:"white",textAlign:"center",paddingTop:"200px"},children:"Please Login To View"})})]})},N=s(2),k=function(e,t){switch(console.log("Reducer at work: ",t),t.type){case"SET_USER":return Object(N.a)(Object(N.a)({},e),{},{user:t.user});case"SET_TOKEN":return Object(N.a)(Object(N.a)({},e),{},{token:t.token});case"SET_PLAYLISTS":return Object(N.a)(Object(N.a)({},e),{},{playlists:t.playlists});case"SET_DEVICES":return Object(N.a)(Object(N.a)({},e),{},{devices:t.devices});case"SET_PLAYING":return Object(N.a)(Object(N.a)({},e),{},{playing:t.playing});case"SET_TRACK":return Object(N.a)(Object(N.a)({},e),{},{track:t.track});case"SET_ACTIVEPLAYLIST":return Object(N.a)(Object(N.a)({},e),{},{activePlaylist:t.activePlaylist});case"SET_ACTIVEPLAYLISTIMAGE":return Object(N.a)(Object(N.a)({},e),{},{activePlaylistImage:t.activePlaylistImage});case"SET_SONGLIST":return Object(N.a)(Object(N.a)({},e),{},{songlist:t.songlist});case"SET_PLAYLISTID":return Object(N.a)(Object(N.a)({},e),{},{playlistID:t.playlistID});case"SET_SONGNUMBER":return Object(N.a)(Object(N.a)({},e),{},{songNumber:t.songNumber});default:return e}},I=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(t){var s=t.getCLS,c=t.getFID,i=t.getFCP,n=t.getLCP,a=t.getTTFB;s(e),c(e),i(e),n(e),a(e)}))};a.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(b,{initialState:{user:null,playlists:[""],playing:!1,item:null,token:null,track:null,devices:[],activePlaylist:"",activePlaylistImage:"",songlist:null,playlistID:"",songNumber:null},reducer:k,children:Object(o.jsx)(E,{})})}),document.getElementById("root")),I()},7:function(e,t,s){}},[[27,1,2]]]);
//# sourceMappingURL=main.dd7bef8e.chunk.js.map