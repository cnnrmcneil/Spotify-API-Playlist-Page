(this["webpackJsonpspotify-api-project"]=this["webpackJsonpspotify-api-project"]||[]).push([[0],{18:function(e,t,s){},29:function(e,t){},37:function(e,t,s){},38:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),i=s(20),a=s.n(i),l=(s(37),s(5)),o=(s(38),"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("9b634ab5a09f410cb628e714fb30b5b8","&redirect_uri=").concat("https://cnnrmcneil.github.io/Spotify-API-Playlist-Page/","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true")),r=s(1),j=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("a",{href:o,children:"Sign In to Spotify"})})},b=Object(c.createContext)(),u=function(e){var t=e.initialState,s=e.reducer,n=e.children;return Object(r.jsx)(b.Provider,{value:Object(c.useReducer)(s,t),children:n})},d=function(){return Object(c.useContext)(b)},O=function(){var e=d(),t=Object(l.a)(e,2),s=t[0],c=s.activePlaylist;s.activePlaylistImage,t[1];return console.log("this is active playlist",c),Object(r.jsxs)("div",{className:"active-playlist-box",children:[Object(r.jsx)("img",{src:c.images[0].url}),Object(r.jsx)("a",{href:c.external_urls.spotify,children:Object(r.jsx)("h5",{children:c.name})}),Object(r.jsx)("a",{href:c.owner.external_urls.spotify,children:Object(r.jsxs)("p",{children:["Curated by ",c.owner.display_name]})})]})},h=s(10),p=s.n(h),g=new p.a,x=function(){var e,t=d(),s=Object(l.a)(t,2),c=s[0].playlists,n=s[1];return Object(r.jsx)("div",{className:"all-playlist-box",children:null===c||void 0===c||null===(e=c.items)||void 0===e?void 0:e.map((function(e){return Object(r.jsx)("div",{className:"imageBox",children:Object(r.jsxs)("a",{onClick:function(){n({type:"SET_ACTIVEPLAYLIST",activePlaylist:e}),n({type:"SET_PLAYLISTID",playlistID:e.id}),g.getPlaylist(e.id).then((function(e){n({type:"SET_SONGLIST",songlist:e})}))},children:[Object(r.jsx)("img",{className:"albumCover",src:e.images[0].url,alt:"albumcover"}),Object(r.jsx)("div",{className:"overlay",children:Object(r.jsx)("p",{children:e.name})})]})})}))})},y=(new p.a,function(e){var t,s=d(),c=Object(l.a)(s,2),n=c[0],i=n.songlist,a=n.playlistID;n.songNumber,c[1];return Object(r.jsx)("div",{className:"songlist",children:Object(r.jsxs)("ol",{children:[console.log("this is playlistID in songlist",a),console.log("this is songlist in songlist",i),null===i||void 0===i||null===(t=i.tracks)||void 0===t?void 0:t.items.map((function(t,s){return console.log("this is item",t),Object(r.jsxs)("div",{className:"songbox",children:[console.log("this is maps songlist: ",i),Object(r.jsx)("li",{className:"songlistLi",children:Object(r.jsx)("button",{value:s,onClick:function(t){console.log("this is index",s),e.changeFunc(t.target.value)}})}),Object(r.jsxs)("div",{className:"songartist",children:[Object(r.jsx)("span",{children:t.track.name}),Object(r.jsx)("span",{children:t.track.artists.map((function(e){return e.name})).join(", ")})]})]})})),Object(r.jsxs)("div",{className:"songbox",children:[Object(r.jsx)("li",{className:"songlistLi"}),Object(r.jsxs)("div",{className:"songartist",children:[Object(r.jsx)("span",{children:"Song"}),Object(r.jsx)("span",{children:"Artist"})]})]})]})})}),v=s(31),m=(s(18),{trackArtistColor:"white",trackNameColor:"white",activeColor:"black",altColor:"black",bgColor:"black",height:100,sliderTrackBorderRadius:100}),f=function(e){var t=n.a.useState(0),s=Object(l.a)(t,2),i=s[0],a=s[1];console.log("this is props",e),Object(c.useEffect)((function(){a(e.numTrack)}),[e]);var o=d(),j=Object(l.a)(o,2),b=j[0],u=b.token,O=b.activePlaylist;b.songNumber,j[1];return Object(r.jsx)("div",{className:"controller",children:Object(r.jsx)(v.a,{styles:m,token:u,uris:["".concat(O.uri)],offset:i,autoPlay:!0})})},S=function(){var e=n.a.useState(0),t=Object(l.a)(e,2),s=t[0],c=t[1],i=d(),a=Object(l.a)(i,2),o=a[0],j=o.activePlaylist,b=o.songlist;a[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"title",children:"Playlists"}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"leftbox",children:[j?Object(r.jsx)(O,{}):Object(r.jsx)("div",{className:"active-playlist-box"}),Object(r.jsx)(x,{})]}),Object(r.jsxs)("div",{className:"rightbox",children:[b?Object(r.jsx)(y,{changeFunc:function(e){c(e)}}):Object(r.jsx)("div",{className:"songlist"}),Object(r.jsx)(f,{className:"controller",numTrack:s})]})]})]})},T=s(29),E=s.n(T),N=s(12),k=s(3),I=new p.a;var P=function(){var e=d(),t=Object(l.a)(e,2),s=t[0],n=s.token,i=s.devices,a=s.songlist,o=s.playlistID,b=t[1];return Object(c.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var s=t.split("=");return e[s[0]]=decodeURIComponent(s[1]),e}),{});window.location.hash="";var t=e.access_token;console.log("this is _token",t),t&&(b({type:"SET_TOKEN",token:t}),I.setAccessToken(t),I.getMe().then((function(e){b({type:"SET_USER",user:e})})),I.getUserPlaylists().then((function(e){b({type:"SET_PLAYLISTS",playlists:e})})),I.getMyDevices().then((function(e){b({type:"SET_DEVICES",devices:e[0]})})),I.play().then((function(e){b({type:"SET_PLAYING",playing:e})})))}),[n,b]),console.log("this is playlistID",o),console.log("this is songlist",a),console.log("Token: ",n),console.log(i),Object(r.jsxs)("div",{className:"allBackground",children:[Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)("img",{src:".src/logoforspotifyapi.png",width:"50px",height:"50px",alt:"logo"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(N.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(N.b,{to:"/about",children:"About"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"/",alt:"Sign Out",children:n?Object(r.jsx)("a",{alt:"Sign Out",onClick:function(){b({type:"SET_TOKEN",token:null})},children:"Sign Out"}):Object(r.jsx)(j,{})})})]})]}),Object(r.jsxs)(k.c,{children:[Object(r.jsx)(k.a,{exact:!0,path:"/",component:n?Object(r.jsx)(S,{spotify:I}):Object(r.jsx)("div",{children:Object(r.jsx)("h1",{style:{color:"white",textAlign:"center",paddingTop:"200px"},children:"Please Login To View"})})}),Object(r.jsx)(k.a,{exact:!0,path:"/about",component:E.a})]})]})},_=s(2),L=function(e,t){switch(console.log("Reducer at work: ",t),t.type){case"SET_USER":return Object(_.a)(Object(_.a)({},e),{},{user:t.user});case"SET_TOKEN":return Object(_.a)(Object(_.a)({},e),{},{token:t.token});case"SET_PLAYLISTS":return Object(_.a)(Object(_.a)({},e),{},{playlists:t.playlists});case"SET_DEVICES":return Object(_.a)(Object(_.a)({},e),{},{devices:t.devices});case"SET_PLAYING":return Object(_.a)(Object(_.a)({},e),{},{playing:t.playing});case"SET_TRACK":return Object(_.a)(Object(_.a)({},e),{},{track:t.track});case"SET_ACTIVEPLAYLIST":return Object(_.a)(Object(_.a)({},e),{},{activePlaylist:t.activePlaylist});case"SET_ACTIVEPLAYLISTIMAGE":return Object(_.a)(Object(_.a)({},e),{},{activePlaylistImage:t.activePlaylistImage});case"SET_SONGLIST":return Object(_.a)(Object(_.a)({},e),{},{songlist:t.songlist});case"SET_PLAYLISTID":return Object(_.a)(Object(_.a)({},e),{},{playlistID:t.playlistID});case"SET_SONGNUMBER":return Object(_.a)(Object(_.a)({},e),{},{songNumber:t.songNumber});default:return e}},C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,47)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),c(e),n(e),i(e),a(e)}))};a.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(N.a,{children:Object(r.jsx)(u,{initialState:{user:null,playlists:[""],playing:!1,item:null,token:null,track:null,devices:[],activePlaylist:"",activePlaylistImage:"",songlist:null,playlistID:"",songNumber:null},reducer:L,children:Object(r.jsx)(P,{})})})}),document.getElementById("root")),C()}},[[46,1,2]]]);
//# sourceMappingURL=main.b5fa3474.chunk.js.map